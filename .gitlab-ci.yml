# .gitlab-ci.yml
---

# variables:
#   DOCKER_AUTH_CONFIG: $CI_DOCKER_AUTH_CONFIG

default:
  
  image: fogo.jfrog.io/uwe-repo/pipelinecomponents/ansible-lint:latest
  # image: pipelinecomponents/ansible-lint:latest # download from hub-docker.com


  
stages:
  - ansible-lint
  - ansible-syntax-check


ansible-lint:
  stage: ansible-lint
  script:
    - ansible-lint loop_count.yml

ansible-syntax-check:
  stage: ansible-syntax-check
  script:
    - ansible-playbook --inventory inventory --syntax-check loop_count.yml
  #  - ansible-playbook  --syntax-check loop_count.yml

